@page

@model CreateWorkoutModel
@{
    ViewData["Title"] = "Create a new Workout Plan";
    ViewData["Error"] = TempData["ErrorMessage"] ?? string.Empty;
}

<div>
    <h2>Select a Workout that you want to add</h2>

    @foreach (var plan in Model.Workouts)
    {
        <div id="workoutGrid" class="col-sm-6 col-lg-6 col-md-6">
            <div class="thumbnail">
                <a asp-page="WorkoutExercise" asp-route-id="@plan.WorkoutPlanId" asp-route-frequency="frequency">
                    <img src="@plan.ImageUrl" class="img-responsive" alt="@plan.Name" />
                </a>
                <form asp-page-handler="AddWorkoutClient" method="post" asp-route-id="@plan.WorkoutPlanId">
                    <button class="btn btn-default">Add</button>
                    <select name="frequency">
                        <option value="1">each day</option>
                        <option value="2">every second day</option>
                        <option value="7">each week</option>
                        <option value="14">every second week</option>
                    </select>
                </form>
            </div>
        </div>
    }

</div>

@*modal*@
@*<div id="errorModal" class="modal">
    <div class="modal-content">
        <span  class="close">&times;</span>
        <p> @ViewData["Error"].ToString()</p>
    </div>
</div>*@


@* hard to get this to work without a click event
    <script>
    //get the modal
    var modal = document.getElementById("errorModal");
    //get the <span> element that closes the modal
    var span = document.getElementsByClassName("close")[0];
    //if the Error Message in the view bag is Not empty
    var e = @ViewData["Error"].ToString();
    if (e != "") {
        var err = function() {
            modal.style.display = "block";
        }
    }
    //when the user clicks on <span> (x) close the modal
    span.onclick = function() {
        modal.style.display = "none";
    }
    //when user clicks anywhere outside of the modal,close it
    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>*@



